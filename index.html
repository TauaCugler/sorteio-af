<script>
  const numerosSorteados = new Set(); // Armazena os nÃºmeros Ãºnicos
  const LIMITE_NUMEROS = 1000;

  function girarRoleta() {
    const mensagem = document.getElementById("mensagem");
    const numero = document.getElementById("numero");
    const historico = document.getElementById("historico");

    let contador = 0;
    let maximoGiros = 50;
    let intervalo = 50;
    let intervaloID;

    mensagem.innerText = "";
    numero.innerText = "";

    if (numerosSorteados.size >= LIMITE_NUMEROS) {
      mensagem.innerText = "âš ï¸ Todos os nÃºmeros jÃ¡ foram sorteados!";
      numero.innerText = "";
      return;
    }

    intervaloID = setInterval(() => {
      const numeroTemp = Math.floor(Math.random() * LIMITE_NUMEROS) + 1;
      numero.innerText = numeroTemp;
      contador++;

      if (contador >= maximoGiros) {
        clearInterval(intervaloID);
        let numeroFinal;

        do {
          numeroFinal = Math.floor(Math.random() * LIMITE_NUMEROS) + 1;
        } while (numerosSorteados.has(numeroFinal));

        numerosSorteados.add(numeroFinal);
        mensagem.innerText = "ðŸŽ‰ NÃºmero sorteado:";
        numero.innerText = ` ${numeroFinal}`;

        atualizarHistorico();
      }
    }, intervalo);
  }

  function reiniciarSorteio() {
    numerosSorteados.clear();
    document.getElementById("mensagem").innerText = "";
    document.getElementById("numero").innerText = "";
    document.getElementById("historico").innerText = "";
  }

  function atualizarHistorico() {
    const historico = document.getElementById("historico");
    const listaOrdenada = Array.from(numerosSorteados).sort((a, b) => a - b);
    historico.innerHTML = `<strong>NÃºmeros sorteados (${listaOrdenada.length}):</strong><br>${listaOrdenada.join(', ')}`;
  }
</script>

